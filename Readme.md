### Решение по тех. Заданию от Hammer System
#### Библиотеки
* django
* djangorestframework


#### Запросы
##### GET http:localhost:8000/
При первом посещении, возвращает приветсвие в JSON формате
```json
{
    "status": 1,
    "message": "Добрый день. Для продолжения напишите в запросе Вам телефон."
}
```
При сохраненной сессии, вернет профиль:
```json
{
    "status": 1,
    "message": "Добрый день!",
    "profile": {
        "phone": 79876543212,
        "user_referral_code": "******",
        "referral_code": null,
        "connected_referrals": []
    }
}
```

##### POST http:localhost:8000/
Параметр: `{"phone": 79876543212}`
Запустит скрипт отправки сообщения на номер. и вернет ответ:
```json
{
    "status": 1,
    "message": "На Ваш номер отправлено смс сообщение подтверждения телефона, Введите код."
}
```
Параметр: `{"sms-code": ****}` По умолчанию 0000<br>
При первом входе вернет:
```json
{
    "status": 1,
    "message": "Регистрация завершена.",
    "profile": {
        "phone": 79876543212,
        "user_referral_code": "******"
    }
}
```
Вместо звёздочек сгенерированный реферальный код.<br>
При дальнейших успешных проходах смс контроля вернет профиль:
```json
{
    "status": 1,
    "message": "Добрый день!",
    "profile": {
        "phone": 79876543212,
        "user_referral_code": "******",
        "referral_code": null,
        "connected_referrals": []
    }
}
```
##### POST http:localhost:8000/add_referral_code
Параметр запроса: `{"referral_code": "******"}`
При успешном нахождении и подключении реферальной ссылки вернет:
```json
{
    "status": 1,
    "message": "Реферальный код принят."
}
```
и при повторном запросе профиля, вернет:
```json
{
    "status": 1,
    "message": "Добрый день!",
    "profile": {
        "phone": 79876543211,
        "user_referral_code": "******",
        "referral_code": "******",
        "connected_referrals": []
    }
}
```
а при запросе профиля пользователя, отдавшего рефералный код вернёт:
```json
{
    "status": 1,
    "message": "Добрый день!",
    "profile": {
        "phone": 79876543212,
        "user_referral_code": "******",
        "referral_code": null,
        "connected_referrals": [
            {
                "user__phone": 79876543211
            }
        ]
    }
}
```
список подключенных рефералов пополнился!


#### Описание профиля
* phone - Номер телефона пользователя.
* user_referral_code - Сегенерированный реферральный код пользователя.
* refrreal_code - поле для реферального кода другого пользователя.
* connected-referrals - лист из подключенных реферальных пользователей.